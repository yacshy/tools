import{r as Gt,a as Ft,c as At,b as kt,F as Dt,d as Xt,n as Wt,e as St,w as Ht,u as bt,B as Ut,f as It,I as Vt,o as Bt}from"./index-CNO6Hxp3.js";function zt(ft){return ft&&ft.__esModule&&Object.prototype.hasOwnProperty.call(ft,"default")?ft.default:ft}var Rt={exports:{}},Yt=Rt.exports,jt;function $t(){return jt||(jt=1,function(ft,mt){(function(D,X){ft.exports=X()})(Yt,function(){return function(et){var D={};function X(z){if(D[z])return D[z].exports;var K=D[z]={exports:{},id:z,loaded:!1};return et[z].call(K.exports,K,K.exports,X),K.loaded=!0,K.exports}return X.m=et,X.c=D,X.p="",X(0)}([function(et,D,X){Object.defineProperty(D,"__esModule",{value:!0});var z=function(){function s(c,u){for(var r=0;r<u.length;r++){var l=u[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(c,l.key,l)}}return function(c,u,r){return u&&s(c.prototype,u),r&&s(c,r),c}}(),K=X(1),G=d(K),A=X(2),_=d(A),Y=X(3);function d(s){return s&&s.__esModule?s:{default:s}}function y(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}var S=function(){function s(){y(this,s)}return z(s,null,[{key:"canvas",value:function(u,r,l){typeof u=="string"&&(u=document.querySelector(u));var e=r.type||"png",n=(r.name||"download")+"."+e,o="image/"+e,m=u.querySelectorAll("svg"),x=[];return m.length>0&&m.forEach(function(E){var i=(0,Y.svg2imagedom)(E);x.push(i)}),r.width=r.width||u.offsetWidth,r.height=r.height||u.offsetHeight,r.onrendered=function(E){l(E,n,o),x.length>0&&x.forEach(function(i){var p=i.nextSibling;p.style.display="block",i.parentNode.removeChild(i)})},(0,G.default)(u,r),this}},{key:"base64",value:function(u,r,l){this.canvas(u,r,function(e,n,o){var m=e.toDataURL(o);l(m,n,o)})}},{key:"blob",value:function(u,r,l){this.canvas(u,r,function(e,n,o){e.toBlob(function(m){return l(m,n,o)},"image/"+o,1)})}},{key:"save",value:function(u,r){return this.base64(u,r,_.default),this}},{key:"copy",value:function(u,r){return this}}]),s}();D.default=S},function(et,D,X){var z,K,G,A,A;(function(_){var Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};(function(d){Y(D)==="object"&&typeof et<"u"?et.exports=d():(K=[],z=d,G=typeof z=="function"?z.apply(D,K):z,G!==void 0&&(et.exports=G))})(function(){return function d(y,S,s){function c(l,e){if(!S[l]){if(!y[l]){var n=typeof A=="function"&&A;if(!e&&n)return A(l,!0);if(u)return u(l,!0);var o=new Error("Cannot find module '"+l+"'");throw o.code="MODULE_NOT_FOUND",o}var m=S[l]={exports:{}};y[l][0].call(m.exports,function(x){var E=y[l][1][x];return c(E||x)},m,m.exports,d,y,S,s)}return S[l].exports}for(var u=typeof A=="function"&&A,r=0;r<s.length;r++)c(s[r]);return c}({1:[function(d,y,S){(function(s){(function(c){var u=(typeof S>"u"?"undefined":Y(S))=="object"&&S&&!S.nodeType&&S,r=(typeof y>"u"?"undefined":Y(y))=="object"&&y&&!y.nodeType&&y,l=(typeof s>"u"?"undefined":Y(s))=="object"&&s;(l.global===l||l.window===l||l.self===l)&&(c=l);var e,n=2147483647,o=36,m=1,x=26,E=38,i=700,p=72,f=128,b="-",k=/^xn--/,N=/[^\x20-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},U=o-m,$=Math.floor,R=String.fromCharCode,T;function L(O){throw new RangeError(H[O])}function nt(O,B){for(var P=O.length,W=[];P--;)W[P]=B(O[P]);return W}function ot(O,B){var P=O.split("@"),W="";P.length>1&&(W=P[0]+"@",O=P[1]),O=O.replace(F,".");var V=O.split("."),q=nt(V,B).join(".");return W+q}function Q(O){for(var B=[],P=0,W=O.length,V,q;P<W;)V=O.charCodeAt(P++),V>=55296&&V<=56319&&P<W?(q=O.charCodeAt(P++),(q&64512)==56320?B.push(((V&1023)<<10)+(q&1023)+65536):(B.push(V),P--)):B.push(V);return B}function J(O){return nt(O,function(B){var P="";return B>65535&&(B-=65536,P+=R(B>>>10&1023|55296),B=56320|B&1023),P+=R(B),P}).join("")}function at(O){return O-48<10?O-22:O-65<26?O-65:O-97<26?O-97:o}function rt(O,B){return O+22+75*(O<26)-((B!=0)<<5)}function wt(O,B,P){var W=0;for(O=P?$(O/i):O>>1,O+=$(O/B);O>U*x>>1;W+=o)O=$(O/U);return $(W+(U+1)*O/(O+E))}function xt(O){var B=[],P=O.length,W,V=0,q=f,tt=p,it,lt,ct,dt,Z,st,ut,gt,vt;for(it=O.lastIndexOf(b),it<0&&(it=0),lt=0;lt<it;++lt)O.charCodeAt(lt)>=128&&L("not-basic"),B.push(O.charCodeAt(lt));for(ct=it>0?it+1:0;ct<P;){for(dt=V,Z=1,st=o;ct>=P&&L("invalid-input"),ut=at(O.charCodeAt(ct++)),(ut>=o||ut>$((n-V)/Z))&&L("overflow"),V+=ut*Z,gt=st<=tt?m:st>=tt+x?x:st-tt,!(ut<gt);st+=o)vt=o-gt,Z>$(n/vt)&&L("overflow"),Z*=vt;W=B.length+1,tt=wt(V-dt,W,dt==0),$(V/W)>n-q&&L("overflow"),q+=$(V/W),V%=W,B.splice(V++,0,q)}return J(B)}function pt(O){var B,P,W,V,q,tt,it,lt,ct,dt,Z,st=[],ut,gt,vt,t;for(O=Q(O),ut=O.length,B=f,P=0,q=p,tt=0;tt<ut;++tt)Z=O[tt],Z<128&&st.push(R(Z));for(W=V=st.length,V&&st.push(b);W<ut;){for(it=n,tt=0;tt<ut;++tt)Z=O[tt],Z>=B&&Z<it&&(it=Z);for(gt=W+1,it-B>$((n-P)/gt)&&L("overflow"),P+=(it-B)*gt,B=it,tt=0;tt<ut;++tt)if(Z=O[tt],Z<B&&++P>n&&L("overflow"),Z==B){for(lt=P,ct=o;dt=ct<=q?m:ct>=q+x?x:ct-q,!(lt<dt);ct+=o)t=lt-dt,vt=o-dt,st.push(R(rt(dt+t%vt,0))),lt=$(t/vt);st.push(R(rt(lt,0))),q=wt(P,gt,W==V),P=0,++W}++P,++B}return st.join("")}function Tt(O){return ot(O,function(B){return k.test(B)?xt(B.slice(4).toLowerCase()):B})}function ht(O){return ot(O,function(B){return N.test(B)?"xn--"+pt(B):B})}if(e={version:"1.3.2",ucs2:{decode:Q,encode:J},decode:xt,encode:pt,toASCII:ht,toUnicode:Tt},u&&r)if(y.exports==u)r.exports=e;else for(T in e)e.hasOwnProperty(T)&&(u[T]=e[T]);else c.punycode=e})(this)}).call(this,typeof _<"u"?_:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(d,y,S){var s=d("./log");function c(e,n,o){e.defaultView&&(n!==e.defaultView.pageXOffset||o!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(n,o)}function u(e,n){try{n&&(n.width=e.width,n.height=e.height,n.getContext("2d").putImageData(e.getContext("2d").getImageData(0,0,e.width,e.height),0,0))}catch(o){s("Unable to copy canvas content from",e,o)}}function r(e,n){for(var o=e.nodeType===3?document.createTextNode(e.nodeValue):e.cloneNode(!1),m=e.firstChild;m;)(n===!0||m.nodeType!==1||m.nodeName!=="SCRIPT")&&o.appendChild(r(m,n)),m=m.nextSibling;return e.nodeType===1&&(o._scrollTop=e.scrollTop,o._scrollLeft=e.scrollLeft,e.nodeName==="CANVAS"?u(e,o):(e.nodeName==="TEXTAREA"||e.nodeName==="SELECT")&&(o.value=e.value)),o}function l(e){if(e.nodeType===1){e.scrollTop=e._scrollTop,e.scrollLeft=e._scrollLeft;for(var n=e.firstChild;n;)l(n),n=n.nextSibling}}y.exports=function(e,n,o,m,x,E,i){var p=r(e.documentElement,x.javascriptEnabled),f=n.createElement("iframe");return f.className="html2canvas-container",f.style.visibility="hidden",f.style.position="fixed",f.style.left="-10000px",f.style.top="0px",f.style.border="0",f.width=o,f.height=m,f.scrolling="no",n.body.appendChild(f),new Promise(function(b){var k=f.contentWindow.document;f.contentWindow.onload=f.onload=function(){var N=setInterval(function(){k.body.childNodes.length>0&&(l(k.documentElement),clearInterval(N),x.type==="view"&&(f.contentWindow.scrollTo(E,i),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(f.contentWindow.scrollY!==i||f.contentWindow.scrollX!==E)&&(k.documentElement.style.top=-i+"px",k.documentElement.style.left=-E+"px",k.documentElement.style.position="absolute")),b(f))},50)},k.open(),k.write("<!DOCTYPE html><html></html>"),c(e,E,i),k.replaceChild(k.adoptNode(p),k.documentElement),k.close()})}},{"./log":13}],3:[function(d,y,S){function s(n){this.r=0,this.g=0,this.b=0,this.a=null,this.fromArray(n)||this.namedColor(n)||this.rgb(n)||this.rgba(n)||this.hex6(n)||this.hex3(n)}s.prototype.darken=function(n){var o=1-n;return new s([Math.round(this.r*o),Math.round(this.g*o),Math.round(this.b*o),this.a])},s.prototype.isTransparent=function(){return this.a===0},s.prototype.isBlack=function(){return this.r===0&&this.g===0&&this.b===0},s.prototype.fromArray=function(n){return Array.isArray(n)&&(this.r=Math.min(n[0],255),this.g=Math.min(n[1],255),this.b=Math.min(n[2],255),n.length>3&&(this.a=n[3])),Array.isArray(n)};var c=/^#([a-f0-9]{3})$/i;s.prototype.hex3=function(n){var o=null;return(o=n.match(c))!==null&&(this.r=parseInt(o[1][0]+o[1][0],16),this.g=parseInt(o[1][1]+o[1][1],16),this.b=parseInt(o[1][2]+o[1][2],16)),o!==null};var u=/^#([a-f0-9]{6})$/i;s.prototype.hex6=function(n){var o=null;return(o=n.match(u))!==null&&(this.r=parseInt(o[1].substring(0,2),16),this.g=parseInt(o[1].substring(2,4),16),this.b=parseInt(o[1].substring(4,6),16)),o!==null};var r=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;s.prototype.rgb=function(n){var o=null;return(o=n.match(r))!==null&&(this.r=Number(o[1]),this.g=Number(o[2]),this.b=Number(o[3])),o!==null};var l=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;s.prototype.rgba=function(n){var o=null;return(o=n.match(l))!==null&&(this.r=Number(o[1]),this.g=Number(o[2]),this.b=Number(o[3]),this.a=Number(o[4])),o!==null},s.prototype.toString=function(){return this.a!==null&&this.a!==1?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},s.prototype.namedColor=function(n){n=n.toLowerCase();var o=e[n];if(o)this.r=o[0],this.g=o[1],this.b=o[2];else if(n==="transparent")return this.r=this.g=this.b=this.a=0,!0;return!!o},s.prototype.isColor=!0;var e={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};y.exports=s},{}],4:[function(d,y,S){var s=d("./support"),c=d("./renderers/canvas"),u=d("./imageloader"),r=d("./nodeparser"),l=d("./nodecontainer"),e=d("./log"),n=d("./utils"),o=d("./clone"),m=d("./proxy").loadUrlDocument,x=n.getBounds,E="data-html2canvas-node",i=0;function p(R,T){var L=i++;if(T=T||{},T.logging&&(e.options.logging=!0,e.options.start=Date.now()),T.async=typeof T.async>"u"?!0:T.async,T.allowTaint=typeof T.allowTaint>"u"?!1:T.allowTaint,T.removeContainer=typeof T.removeContainer>"u"?!0:T.removeContainer,T.javascriptEnabled=typeof T.javascriptEnabled>"u"?!1:T.javascriptEnabled,T.imageTimeout=typeof T.imageTimeout>"u"?1e4:T.imageTimeout,T.renderer=typeof T.renderer=="function"?T.renderer:c,T.strict=!!T.strict,typeof R=="string"){if(typeof T.proxy!="string")return Promise.reject("Proxy must be used when rendering url");var nt=T.width!=null?T.width:window.innerWidth,ot=T.height!=null?T.height:window.innerHeight;return m($(R),T.proxy,document,nt,ot,T).then(function(J){return k(J.contentWindow.document.documentElement,J,T,nt,ot)})}var Q=(R===void 0?[document.documentElement]:R.length?R:[R])[0];return Q.setAttribute(E+L,L),b(Q.ownerDocument,T,Q.ownerDocument.defaultView.innerWidth,Q.ownerDocument.defaultView.innerHeight,L).then(function(J){return typeof T.onrendered=="function"&&(e("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),T.onrendered(J)),J})}p.CanvasRenderer=c,p.NodeContainer=l,p.log=e,p.utils=n;var f=typeof document>"u"||typeof Object.create!="function"||typeof document.createElement("canvas").getContext!="function"?function(){return Promise.reject("No canvas support")}:p;y.exports=f;function b(R,T,L,nt,ot){return o(R,R,L,nt,T,R.defaultView.pageXOffset,R.defaultView.pageYOffset).then(function(Q){e("Document cloned");var J=E+ot,at="["+J+"='"+ot+"']";R.querySelector(at).removeAttribute(J);var rt=Q.contentWindow,wt=rt.document.querySelector(at),xt=typeof T.onclone=="function"?Promise.resolve(T.onclone(rt.document)):Promise.resolve(!0);return xt.then(function(){return k(wt,Q,T,L,nt)})})}function k(R,T,L,nt,ot){var Q=T.contentWindow,J=new s(Q.document),at=new u(L,J),rt=x(R),wt=L.type==="view"?nt:H(Q.document),xt=L.type==="view"?ot:U(Q.document),pt=new L.renderer(wt,xt,at,L,document),Tt=new r(R,pt,J,at,L);return Tt.ready.then(function(){e("Finished rendering");var ht;return L.type==="view"?ht=F(pt.canvas,{width:pt.canvas.width,height:pt.canvas.height,top:0,left:0,x:0,y:0}):R===Q.document.body||R===Q.document.documentElement||L.canvas!=null?ht=pt.canvas:ht=F(pt.canvas,{width:L.width!=null?L.width:rt.width,height:L.height!=null?L.height:rt.height,top:rt.top,left:rt.left,x:0,y:0}),N(T,L),ht})}function N(R,T){T.removeContainer&&(R.parentNode.removeChild(R),e("Cleaned up container"))}function F(R,T){var L=document.createElement("canvas"),nt=Math.min(R.width-1,Math.max(0,T.left)),ot=Math.min(R.width,Math.max(1,T.left+T.width)),Q=Math.min(R.height-1,Math.max(0,T.top)),J=Math.min(R.height,Math.max(1,T.top+T.height));L.width=T.width,L.height=T.height;var at=ot-nt,rt=J-Q;return e("Cropping canvas at:","left:",T.left,"top:",T.top,"width:",at,"height:",rt),e("Resulting crop with width",T.width,"and height",T.height,"with x",nt,"and y",Q),L.getContext("2d").drawImage(R,nt,Q,at,rt,T.x,T.y,at,rt),L}function H(R){return Math.max(Math.max(R.body.scrollWidth,R.documentElement.scrollWidth),Math.max(R.body.offsetWidth,R.documentElement.offsetWidth),Math.max(R.body.clientWidth,R.documentElement.clientWidth))}function U(R){return Math.max(Math.max(R.body.scrollHeight,R.documentElement.scrollHeight),Math.max(R.body.offsetHeight,R.documentElement.offsetHeight),Math.max(R.body.clientHeight,R.documentElement.clientHeight))}function $(R){var T=document.createElement("a");return T.href=R,T.href=T.href,T}},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(d,y,S){var s=d("./log"),c=d("./utils").smallImage;function u(r){if(this.src=r,s("DummyImageContainer for",r),!this.promise||!this.image){s("Initiating DummyImageContainer"),u.prototype.image=new Image;var l=this.image;u.prototype.promise=new Promise(function(e,n){l.onload=e,l.onerror=n,l.src=c(),l.complete===!0&&e(l)})}}y.exports=u},{"./log":13,"./utils":26}],6:[function(d,y,S){var s=d("./utils").smallImage;function c(u,r){var l=document.createElement("div"),e=document.createElement("img"),n=document.createElement("span"),o="Hidden Text",m,x;l.style.visibility="hidden",l.style.fontFamily=u,l.style.fontSize=r,l.style.margin=0,l.style.padding=0,document.body.appendChild(l),e.src=s(),e.width=1,e.height=1,e.style.margin=0,e.style.padding=0,e.style.verticalAlign="baseline",n.style.fontFamily=u,n.style.fontSize=r,n.style.margin=0,n.style.padding=0,n.appendChild(document.createTextNode(o)),l.appendChild(n),l.appendChild(e),m=e.offsetTop-n.offsetTop+1,l.removeChild(n),l.appendChild(document.createTextNode(o)),l.style.lineHeight="normal",e.style.verticalAlign="super",x=e.offsetTop-l.offsetTop+1,document.body.removeChild(l),this.baseline=m,this.lineWidth=1,this.middle=x}y.exports=c},{"./utils":26}],7:[function(d,y,S){var s=d("./font");function c(){this.data={}}c.prototype.getMetrics=function(u,r){return this.data[u+"-"+r]===void 0&&(this.data[u+"-"+r]=new s(u,r)),this.data[u+"-"+r]},y.exports=c},{"./font":6}],8:[function(d,y,S){var s=d("./utils"),c=s.getBounds,u=d("./proxy").loadUrlDocument;function r(l,e,n){this.image=null,this.src=l;var o=this,m=c(l);this.promise=(e?new Promise(function(x){l.contentWindow.document.URL==="about:blank"||l.contentWindow.document.documentElement==null?l.contentWindow.onload=l.onload=function(){x(l)}:x(l)}):this.proxyLoad(n.proxy,m,n)).then(function(x){var E=d("./core");return E(x.contentWindow.document.documentElement,{type:"view",width:x.width,height:x.height,proxy:n.proxy,javascriptEnabled:n.javascriptEnabled,removeContainer:n.removeContainer,allowTaint:n.allowTaint,imageTimeout:n.imageTimeout/2})}).then(function(x){return o.image=x})}r.prototype.proxyLoad=function(l,e,n){var o=this.src;return u(o.src,l,o.ownerDocument,e.width,e.height,n)},y.exports=r},{"./core":4,"./proxy":16,"./utils":26}],9:[function(d,y,S){function s(c){this.src=c.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}s.TYPES={LINEAR:1,RADIAL:2},s.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,y.exports=s},{}],10:[function(d,y,S){function s(c,u){this.src=c,this.image=new Image;var r=this;this.tainted=null,this.promise=new Promise(function(l,e){r.image.onload=l,r.image.onerror=e,u&&(r.image.crossOrigin="anonymous"),r.image.src=c,r.image.complete===!0&&l(r.image)})}y.exports=s},{}],11:[function(d,y,S){var s=d("./log"),c=d("./imagecontainer"),u=d("./dummyimagecontainer"),r=d("./proxyimagecontainer"),l=d("./framecontainer"),e=d("./svgcontainer"),n=d("./svgnodecontainer"),o=d("./lineargradientcontainer"),m=d("./webkitgradientcontainer"),x=d("./utils").bind;function E(i,p){this.link=null,this.options=i,this.support=p,this.origin=this.getOrigin(window.location.href)}E.prototype.findImages=function(i){var p=[];return i.reduce(function(f,b){switch(b.node.nodeName){case"IMG":return f.concat([{args:[b.node.src],method:"url"}]);case"svg":case"IFRAME":return f.concat([{args:[b.node],method:b.node.nodeName}])}return f},[]).forEach(this.addImage(p,this.loadImage),this),p},E.prototype.findBackgroundImage=function(i,p){return p.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(i,this.loadImage),this),i},E.prototype.addImage=function(i,p){return function(f){f.args.forEach(function(b){this.imageExists(i,b)||(i.splice(0,0,p.call(this,f)),s("Added image #"+i.length,typeof b=="string"?b.substring(0,100):b))},this)}},E.prototype.hasImageBackground=function(i){return i.method!=="none"},E.prototype.loadImage=function(i){if(i.method==="url"){var p=i.args[0];return this.isSVG(p)&&!this.support.svg&&!this.options.allowTaint?new e(p):p.match(/data:image\/.*;base64,/i)?new c(p.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),!1):this.isSameOrigin(p)||this.options.allowTaint===!0||this.isSVG(p)?new c(p,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new c(p,!0):this.options.proxy?new r(p,this.options.proxy):new u(p)}else return i.method==="linear-gradient"?new o(i):i.method==="gradient"?new m(i):i.method==="svg"?new n(i.args[0],this.support.svg):i.method==="IFRAME"?new l(i.args[0],this.isSameOrigin(i.args[0].src),this.options):new u(i)},E.prototype.isSVG=function(i){return i.substring(i.length-3).toLowerCase()==="svg"||e.prototype.isInline(i)},E.prototype.imageExists=function(i,p){return i.some(function(f){return f.src===p})},E.prototype.isSameOrigin=function(i){return this.getOrigin(i)===this.origin},E.prototype.getOrigin=function(i){var p=this.link||(this.link=document.createElement("a"));return p.href=i,p.href=p.href,p.protocol+p.hostname+p.port},E.prototype.getPromise=function(i){return this.timeout(i,this.options.imageTimeout).catch(function(){var p=new u(i.src);return p.promise.then(function(f){i.image=f})})},E.prototype.get=function(i){var p=null;return this.images.some(function(f){return(p=f).src===i})?p:null},E.prototype.fetch=function(i){return this.images=i.reduce(x(this.findBackgroundImage,this),this.findImages(i)),this.images.forEach(function(p,f){p.promise.then(function(){s("Succesfully loaded image #"+(f+1),p)},function(b){s("Failed loading image #"+(f+1),p,b)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),s("Finished searching images"),this},E.prototype.timeout=function(i,p){var f,b=Promise.race([i.promise,new Promise(function(k,N){f=setTimeout(function(){s("Timed out loading image",i),N(i)},p)})]).then(function(k){return clearTimeout(f),k});return b.catch(function(){clearTimeout(f)}),b},y.exports=E},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(d,y,S){var s=d("./gradientcontainer"),c=d("./color");function u(r){s.apply(this,arguments),this.type=s.TYPES.LINEAR;var l=u.REGEXP_DIRECTION.test(r.args[0])||!s.REGEXP_COLORSTOP.test(r.args[0]);l?r.args[0].split(/\s+/).reverse().forEach(function(e,n){switch(e){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var o=this.y0,m=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=m,this.y1=o;break;case"center":break;default:var x=parseFloat(e,10)*.01;if(isNaN(x))break;n===0?(this.y0=x,this.y1=1-this.y0):(this.x0=x,this.x1=1-this.x0);break}},this):(this.y0=0,this.y1=1),this.colorStops=r.args.slice(l?1:0).map(function(e){var n=e.match(s.REGEXP_COLORSTOP),o=+n[2],m=o===0?"%":n[3];return{color:new c(n[1]),stop:m==="%"?o/100:null}}),this.colorStops[0].stop===null&&(this.colorStops[0].stop=0),this.colorStops[this.colorStops.length-1].stop===null&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(e,n){e.stop===null&&this.colorStops.slice(n).some(function(o,m){return o.stop!==null?(e.stop=(o.stop-this.colorStops[n-1].stop)/(m+1)+this.colorStops[n-1].stop,!0):!1},this)},this)}u.prototype=Object.create(s.prototype),u.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,y.exports=u},{"./color":3,"./gradientcontainer":9}],13:[function(d,y,S){var s=function c(){c.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-c.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};s.options={logging:!1},y.exports=s},{}],14:[function(d,y,S){var s=d("./color"),c=d("./utils"),u=c.getBounds,r=c.parseBackgrounds,l=c.offsetBounds;function e(i,p){this.node=i,this.parent=p,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}e.prototype.cloneTo=function(i){i.visible=this.visible,i.borders=this.borders,i.bounds=this.bounds,i.clip=this.clip,i.backgroundClip=this.backgroundClip,i.computedStyles=this.computedStyles,i.styles=this.styles,i.backgroundImages=this.backgroundImages,i.opacity=this.opacity},e.prototype.getOpacity=function(){return this.opacity===null?this.opacity=this.cssFloat("opacity"):this.opacity},e.prototype.assignStack=function(i){this.stack=i,i.children.push(this)},e.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:this.css("display")!=="none"&&this.css("visibility")!=="hidden"&&!this.node.hasAttribute("data-html2canvas-ignore")&&(this.node.nodeName!=="INPUT"||this.node.getAttribute("type")!=="hidden")},e.prototype.css=function(i){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[i]||(this.styles[i]=this.computedStyles[i])},e.prototype.prefixedCss=function(i){var p=["webkit","moz","ms","o"],f=this.css(i);return f===void 0&&p.some(function(b){return f=this.css(b+i.substr(0,1).toUpperCase()+i.substr(1)),f!==void 0},this),f===void 0?null:f},e.prototype.computedStyle=function(i){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,i)},e.prototype.cssInt=function(i){var p=parseInt(this.css(i),10);return isNaN(p)?0:p},e.prototype.color=function(i){return this.colors[i]||(this.colors[i]=new s(this.css(i)))},e.prototype.cssFloat=function(i){var p=parseFloat(this.css(i));return isNaN(p)?0:p},e.prototype.fontWeight=function(){var i=this.css("fontWeight");switch(parseInt(i,10)){case 401:i="bold";break;case 400:i="normal";break}return i},e.prototype.parseClip=function(){var i=this.css("clip").match(this.CLIP);return i?{top:parseInt(i[1],10),right:parseInt(i[2],10),bottom:parseInt(i[3],10),left:parseInt(i[4],10)}:null},e.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=r(this.css("backgroundImage")))},e.prototype.cssList=function(i,p){var f=(this.css(i)||"").split(",");return f=f[p||0]||f[0]||"auto",f=f.trim().split(" "),f.length===1&&(f=[f[0],m(f[0])?"auto":f[0]]),f},e.prototype.parseBackgroundSize=function(i,p,f){var b=this.cssList("backgroundSize",f),k,N;if(m(b[0]))k=i.width*parseFloat(b[0])/100;else if(/contain|cover/.test(b[0])){var F=i.width/i.height,H=p.width/p.height;return F<H^b[0]==="contain"?{width:i.height*H,height:i.height}:{width:i.width,height:i.width/H}}else k=parseInt(b[0],10);return b[0]==="auto"&&b[1]==="auto"?N=p.height:b[1]==="auto"?N=k/p.width*p.height:m(b[1])?N=i.height*parseFloat(b[1])/100:N=parseInt(b[1],10),b[0]==="auto"&&(k=N/p.height*p.width),{width:k,height:N}},e.prototype.parseBackgroundPosition=function(i,p,f,b){var k=this.cssList("backgroundPosition",f),N,F;return m(k[0])?N=(i.width-(b||p).width)*(parseFloat(k[0])/100):N=parseInt(k[0],10),k[1]==="auto"?F=N/p.width*p.height:m(k[1])?F=(i.height-(b||p).height)*parseFloat(k[1])/100:F=parseInt(k[1],10),k[0]==="auto"&&(N=F/p.height*p.width),{left:N,top:F}},e.prototype.parseBackgroundRepeat=function(i){return this.cssList("backgroundRepeat",i)[0]},e.prototype.parseTextShadows=function(){var i=this.css("textShadow"),p=[];if(i&&i!=="none")for(var f=i.match(this.TEXT_SHADOW_PROPERTY),b=0;f&&b<f.length;b++){var k=f[b].match(this.TEXT_SHADOW_VALUES);p.push({color:new s(k[0]),offsetX:k[1]?parseFloat(k[1].replace("px","")):0,offsetY:k[2]?parseFloat(k[2].replace("px","")):0,blur:k[3]?k[3].replace("px",""):0})}return p},e.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var i=this.parseBounds(),p=this.prefixedCss("transformOrigin").split(" ").map(x).map(E);p[0]+=i.left,p[1]+=i.top,this.transformData={origin:p,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},e.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var i=this.prefixedCss("transform"),p=i?o(i.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=p||[1,0,0,1,0,0]}return this.transformMatrix},e.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?l(this.node):u(this.node))},e.prototype.hasTransform=function(){return this.parseTransformMatrix().join(",")!=="1,0,0,1,0,0"||this.parent&&this.parent.hasTransform()},e.prototype.getValue=function(){var i=this.node.value||"";return this.node.tagName==="SELECT"?i=n(this.node):this.node.type==="password"&&(i=Array(i.length+1).join("•")),i.length===0?this.node.placeholder||"":i},e.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,e.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,e.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,e.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/;function n(i){var p=i.options[i.selectedIndex||0];return p&&p.text||""}function o(i){if(i&&i[1]==="matrix")return i[2].split(",").map(function(f){return parseFloat(f.trim())});if(i&&i[1]==="matrix3d"){var p=i[2].split(",").map(function(f){return parseFloat(f.trim())});return[p[0],p[1],p[4],p[5],p[12],p[13]]}}function m(i){return i.toString().indexOf("%")!==-1}function x(i){return i.replace("px","")}function E(i){return parseFloat(i)}y.exports=e},{"./color":3,"./utils":26}],15:[function(d,y,S){var s=d("./log"),c=d("punycode"),u=d("./nodecontainer"),r=d("./textcontainer"),l=d("./pseudoelementcontainer"),e=d("./fontmetrics"),n=d("./color"),o=d("./stackingcontext"),m=d("./utils"),x=m.bind,E=m.getBounds,i=m.parseBackgrounds,p=m.offsetBounds;function f(t,a,h,g,v){s("Starting NodeParser"),this.renderer=a,this.options=v,this.range=null,this.support=h,this.renderQueue=[],this.stack=new o(!0,1,t.ownerDocument,null);var I=new u(t,null);if(v.background&&a.rectangle(0,0,a.width,a.height,new n(v.background)),t===t.ownerDocument.documentElement){var w=new u(I.color("backgroundColor").isTransparent()?t.ownerDocument.body:t.ownerDocument.documentElement,null);a.rectangle(0,0,a.width,a.height,w.color("backgroundColor"))}I.visibile=I.isElementVisible(),this.createPseudoHideStyles(t.ownerDocument),this.disableAnimations(t.ownerDocument),this.nodes=Z([I].concat(this.getChildren(I)).filter(function(C){return C.visible=C.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new e,s("Fetched nodes, total:",this.nodes.length),s("Calculate overflow clips"),this.calculateOverflowClips(),s("Start fetching images"),this.images=g.fetch(this.nodes.filter(W)),this.ready=this.images.ready.then(x(function(){return s("Images loaded, starting parsing"),s("Creating stacking contexts"),this.createStackingContexts(),s("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),s("Render queue created with "+this.renderQueue.length+" items"),new Promise(x(function(C){v.async?typeof v.async=="function"?v.async.call(this,this.renderQueue,C):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,C)):C():(this.renderQueue.forEach(this.paint,this),C())},this))},this))}f.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(t){if(W(t)){V(t)&&t.appendToDOM(),t.borders=this.parseBorders(t);var a=t.css("overflow")==="hidden"?[t.borders.clip]:[],h=t.parseClip();h&&["absolute","fixed"].indexOf(t.css("position"))!==-1&&a.push([["rect",t.bounds.left+h.left,t.bounds.top+h.top,h.right-h.left,h.bottom-h.top]]),t.clip=b(t)?t.parent.clip.concat(a):a,t.backgroundClip=t.css("overflow")!=="hidden"?t.clip.concat([t.borders.clip]):t.clip,V(t)&&t.cleanDOM()}else q(t)&&(t.clip=b(t)?t.parent.clip:[]);V(t)||(t.bounds=null)},this)};function b(t){return t.parent&&t.parent.clip.length}f.prototype.asyncRenderer=function(t,a,h){h=h||Date.now(),this.paint(t[this.renderIndex++]),t.length===this.renderIndex?a():h+20>Date.now()?this.asyncRenderer(t,a,h):setTimeout(x(function(){this.asyncRenderer(t,a)},this),0)},f.prototype.createPseudoHideStyles=function(t){this.createStyles(t,"."+l.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+l.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},f.prototype.disableAnimations=function(t){this.createStyles(t,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},f.prototype.createStyles=function(t,a){var h=t.createElement("style");h.innerHTML=a,t.body.appendChild(h)},f.prototype.getPseudoElements=function(t){var a=[[t]];if(t.node.nodeType===Node.ELEMENT_NODE){var h=this.getPseudoElement(t,":before"),g=this.getPseudoElement(t,":after");h&&a.push(h),g&&a.push(g)}return Z(a)};function k(t){return t.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")})}f.prototype.getPseudoElement=function(t,a){var h=t.computedStyle(a);if(!h||!h.content||h.content==="none"||h.content==="-moz-alt-content"||h.display==="none")return null;for(var g=st(h.content),v=g.substr(0,3)==="url",I=document.createElement(v?"img":"html2canvaspseudoelement"),w=new l(I,t,a),C=h.length-1;C>=0;C--){var M=k(h.item(C));I.style[M]=h[M]}if(I.className=l.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+l.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,v)return I.src=i(g)[0].args[0],[w];var j=document.createTextNode(g);return I.appendChild(j),[w,new r(j,w)]},f.prototype.getChildren=function(t){return Z([].filter.call(t.node.childNodes,pt).map(function(a){var h=[a.nodeType===Node.TEXT_NODE?new r(a,t):new u(a,t)].filter(dt);return a.nodeType===Node.ELEMENT_NODE&&h.length&&a.tagName!=="TEXTAREA"?h[0].isElementVisible()?h.concat(this.getChildren(h[0])):[]:h},this))},f.prototype.newStackingContext=function(t,a){var h=new o(a,t.getOpacity(),t.node,t.parent);t.cloneTo(h);var g=a?h.getParentStack(this):h.parent.stack;g.contexts.push(h),t.stack=h},f.prototype.createStackingContexts=function(){this.nodes.forEach(function(t){W(t)&&(this.isRootElement(t)||it(t)||Tt(t)||this.isBodyWithTransparentRoot(t)||t.hasTransform())?this.newStackingContext(t,!0):W(t)&&(ht(t)&&Q(t)||B(t)||O(t))?this.newStackingContext(t,!1):t.assignStack(t.parent.stack)},this)},f.prototype.isBodyWithTransparentRoot=function(t){return t.node.nodeName==="BODY"&&t.parent.color("backgroundColor").isTransparent()},f.prototype.isRootElement=function(t){return t.parent===null},f.prototype.sortStackingContexts=function(t){t.contexts.sort(tt(t.contexts.slice(0))),t.contexts.forEach(this.sortStackingContexts,this)},f.prototype.parseTextBounds=function(t){return function(a,h,g){if(t.parent.css("textDecoration").substr(0,4)!=="none"||a.trim().length!==0){if(this.support.rangeBounds&&!t.parent.hasTransform()){var v=g.slice(0,h).join("").length;return this.getRangeBounds(t.node,v,a.length)}else if(t.node&&typeof t.node.data=="string"){var I=t.node.splitText(a.length),w=this.getWrapperBounds(t.node,t.parent.hasTransform());return t.node=I,w}}else(!this.support.rangeBounds||t.parent.hasTransform())&&(t.node=t.node.splitText(a.length));return{}}},f.prototype.getWrapperBounds=function(t,a){var h=t.ownerDocument.createElement("html2canvaswrapper"),g=t.parentNode,v=t.cloneNode(!0);h.appendChild(t.cloneNode(!0)),g.replaceChild(h,t);var I=a?p(h):E(h);return g.replaceChild(v,h),I},f.prototype.getRangeBounds=function(t,a,h){var g=this.range||(this.range=t.ownerDocument.createRange());return g.setStart(t,a),g.setEnd(t,a+h),g.getBoundingClientRect()};function N(){}f.prototype.parse=function(t){var a=t.contexts.filter(nt),h=t.children.filter(W),g=h.filter(P(O)),v=g.filter(P(ht)).filter(P(J)),I=h.filter(P(ht)).filter(O),w=g.filter(P(ht)).filter(J),C=t.contexts.concat(g.filter(ht)).filter(Q),M=t.children.filter(q).filter(rt),j=t.contexts.filter(ot);a.concat(v).concat(I).concat(w).concat(C).concat(M).concat(j).forEach(function(yt){this.renderQueue.push(yt),at(yt)&&(this.parse(yt),this.renderQueue.push(new N))},this)},f.prototype.paint=function(t){try{t instanceof N?this.renderer.ctx.restore():q(t)?(V(t.parent)&&t.parent.appendToDOM(),this.paintText(t),V(t.parent)&&t.parent.cleanDOM()):this.paintNode(t)}catch(a){if(s(a),this.options.strict)throw a}},f.prototype.paintNode=function(t){at(t)&&(this.renderer.setOpacity(t.opacity),this.renderer.ctx.save(),t.hasTransform()&&this.renderer.setTransform(t.parseTransform())),t.node.nodeName==="INPUT"&&t.node.type==="checkbox"?this.paintCheckbox(t):t.node.nodeName==="INPUT"&&t.node.type==="radio"?this.paintRadio(t):this.paintElement(t)},f.prototype.paintElement=function(t){var a=t.parseBounds();this.renderer.clip(t.backgroundClip,function(){this.renderer.renderBackground(t,a,t.borders.borders.map(ct))},this),this.renderer.clip(t.clip,function(){this.renderer.renderBorders(t.borders.borders)},this),this.renderer.clip(t.backgroundClip,function(){switch(t.node.nodeName){case"svg":case"IFRAME":var h=this.images.get(t.node);h?this.renderer.renderImage(t,a,t.borders,h):s("Error loading <"+t.node.nodeName+">",t.node);break;case"IMG":var g=this.images.get(t.node.src);g?this.renderer.renderImage(t,a,t.borders,g):s("Error loading <img>",t.node.src);break;case"CANVAS":this.renderer.renderImage(t,a,t.borders,{image:t.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(t);break}},this)},f.prototype.paintCheckbox=function(t){var a=t.parseBounds(),h=Math.min(a.width,a.height),g={width:h-1,height:h-1,top:a.top,left:a.left},v=[3,3],I=[v,v,v,v],w=[1,1,1,1].map(function(M){return{color:new n("#A5A5A5"),width:M}}),C=$(g,I,w);this.renderer.clip(t.backgroundClip,function(){this.renderer.rectangle(g.left+1,g.top+1,g.width-2,g.height-2,new n("#DEDEDE")),this.renderer.renderBorders(H(w,g,C,I)),t.node.checked&&(this.renderer.font(new n("#424242"),"normal","normal","bold",h-3+"px","arial"),this.renderer.text("✔",g.left+h/6,g.top+h-1))},this)},f.prototype.paintRadio=function(t){var a=t.parseBounds(),h=Math.min(a.width,a.height)-2;this.renderer.clip(t.backgroundClip,function(){this.renderer.circleStroke(a.left+1,a.top+1,h,new n("#DEDEDE"),1,new n("#A5A5A5")),t.node.checked&&this.renderer.circle(Math.ceil(a.left+h/4)+1,Math.ceil(a.top+h/4)+1,Math.floor(h/2),new n("#424242"))},this)},f.prototype.paintFormValue=function(t){var a=t.getValue();if(a.length>0){var h=t.node.ownerDocument,g=h.createElement("html2canvaswrapper"),v=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];v.forEach(function(w){try{g.style[w]=t.css(w)}catch(C){s("html2canvas: Parse: Exception caught in renderFormValue: "+C.message)}});var I=t.parseBounds();g.style.position="fixed",g.style.left=I.left+"px",g.style.top=I.top+"px",g.textContent=a,h.body.appendChild(g),this.paintText(new r(g.firstChild,t)),h.body.removeChild(g)}},f.prototype.paintText=function(t){t.applyTextTransform();var a=c.ucs2.decode(t.node.data),h=(!this.options.letterRendering||wt(t))&&!vt(t.node.data)?ut(a):a.map(function(C){return c.ucs2.encode([C])}),g=t.parent.fontWeight(),v=t.parent.css("fontSize"),I=t.parent.css("fontFamily"),w=t.parent.parseTextShadows();this.renderer.font(t.parent.color("color"),t.parent.css("fontStyle"),t.parent.css("fontVariant"),g,v,I),w.length?this.renderer.fontShadow(w[0].color,w[0].offsetX,w[0].offsetY,w[0].blur):this.renderer.clearShadow(),this.renderer.clip(t.parent.clip,function(){h.map(this.parseTextBounds(t),this).forEach(function(C,M){C&&(this.renderer.text(h[M],C.left,C.bottom),this.renderTextDecoration(t.parent,C,this.fontMetrics.getMetrics(I,v)))},this)},this)},f.prototype.renderTextDecoration=function(t,a,h){switch(t.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(a.left,Math.round(a.top+h.baseline+h.lineWidth),a.width,1,t.color("color"));break;case"overline":this.renderer.rectangle(a.left,Math.round(a.top),a.width,1,t.color("color"));break;case"line-through":this.renderer.rectangle(a.left,Math.ceil(a.top+h.middle+h.lineWidth),a.width,1,t.color("color"));break}};var F={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};f.prototype.parseBorders=function(t){var a=t.parseBounds(),h=xt(t),g=["Top","Right","Bottom","Left"].map(function(I,w){var C=t.css("border"+I+"Style"),M=t.color("border"+I+"Color");C==="inset"&&M.isBlack()&&(M=new n([255,255,255,M.a]));var j=F[C]?F[C][w]:null;return{width:t.cssInt("border"+I+"Width"),color:j?M[j[0]](j[1]):M,args:null}}),v=$(a,h,g);return{clip:this.parseBackgroundClip(t,v,g,h,a),borders:H(g,a,v,h)}};function H(t,a,h,g){return t.map(function(v,I){if(v.width>0){var w=a.left,C=a.top,M=a.width,j=a.height-t[2].width;switch(I){case 0:j=t[0].width,v.args=T({c1:[w,C],c2:[w+M,C],c3:[w+M-t[1].width,C+j],c4:[w+t[3].width,C+j]},g[0],g[1],h.topLeftOuter,h.topLeftInner,h.topRightOuter,h.topRightInner);break;case 1:w=a.left+a.width-t[1].width,M=t[1].width,v.args=T({c1:[w+M,C],c2:[w+M,C+j+t[2].width],c3:[w,C+j],c4:[w,C+t[0].width]},g[1],g[2],h.topRightOuter,h.topRightInner,h.bottomRightOuter,h.bottomRightInner);break;case 2:C=C+a.height-t[2].width,j=t[2].width,v.args=T({c1:[w+M,C+j],c2:[w,C+j],c3:[w+t[3].width,C],c4:[w+M-t[3].width,C]},g[2],g[3],h.bottomRightOuter,h.bottomRightInner,h.bottomLeftOuter,h.bottomLeftInner);break;case 3:M=t[3].width,v.args=T({c1:[w,C+j+t[2].width],c2:[w,C],c3:[w+M,C+t[0].width],c4:[w+M,C+j]},g[3],g[0],h.bottomLeftOuter,h.bottomLeftInner,h.topLeftOuter,h.topLeftInner);break}}return v})}f.prototype.parseBackgroundClip=function(t,a,h,g,v){var I=t.css("backgroundClip"),w=[];switch(I){case"content-box":case"padding-box":L(w,g[0],g[1],a.topLeftInner,a.topRightInner,v.left+h[3].width,v.top+h[0].width),L(w,g[1],g[2],a.topRightInner,a.bottomRightInner,v.left+v.width-h[1].width,v.top+h[0].width),L(w,g[2],g[3],a.bottomRightInner,a.bottomLeftInner,v.left+v.width-h[1].width,v.top+v.height-h[2].width),L(w,g[3],g[0],a.bottomLeftInner,a.topLeftInner,v.left+h[3].width,v.top+v.height-h[2].width);break;default:L(w,g[0],g[1],a.topLeftOuter,a.topRightOuter,v.left,v.top),L(w,g[1],g[2],a.topRightOuter,a.bottomRightOuter,v.left+v.width,v.top),L(w,g[2],g[3],a.bottomRightOuter,a.bottomLeftOuter,v.left+v.width,v.top+v.height),L(w,g[3],g[0],a.bottomLeftOuter,a.topLeftOuter,v.left,v.top+v.height);break}return w};function U(t,a,h,g){var v=4*((Math.sqrt(2)-1)/3),I=h*v,w=g*v,C=t+h,M=a+g;return{topLeft:R({x:t,y:M},{x:t,y:M-w},{x:C-I,y:a},{x:C,y:a}),topRight:R({x:t,y:a},{x:t+I,y:a},{x:C,y:M-w},{x:C,y:M}),bottomRight:R({x:C,y:a},{x:C,y:a+w},{x:t+I,y:M},{x:t,y:M}),bottomLeft:R({x:C,y:M},{x:C-I,y:M},{x:t,y:a+w},{x:t,y:a})}}function $(t,a,h){var g=t.left,v=t.top,I=t.width,w=t.height,C=a[0][0]<I/2?a[0][0]:I/2,M=a[0][1]<w/2?a[0][1]:w/2,j=a[1][0]<I/2?a[1][0]:I/2,yt=a[1][1]<w/2?a[1][1]:w/2,Et=a[2][0]<I/2?a[2][0]:I/2,Ct=a[2][1]<w/2?a[2][1]:w/2,Mt=a[3][0]<I/2?a[3][0]:I/2,Ot=a[3][1]<w/2?a[3][1]:w/2,Nt=I-j,Lt=w-Ct,Pt=I-Et,_t=w-Ot;return{topLeftOuter:U(g,v,C,M).topLeft.subdivide(.5),topLeftInner:U(g+h[3].width,v+h[0].width,Math.max(0,C-h[3].width),Math.max(0,M-h[0].width)).topLeft.subdivide(.5),topRightOuter:U(g+Nt,v,j,yt).topRight.subdivide(.5),topRightInner:U(g+Math.min(Nt,I+h[3].width),v+h[0].width,Nt>I+h[3].width?0:j-h[3].width,yt-h[0].width).topRight.subdivide(.5),bottomRightOuter:U(g+Pt,v+Lt,Et,Ct).bottomRight.subdivide(.5),bottomRightInner:U(g+Math.min(Pt,I-h[3].width),v+Math.min(Lt,w+h[0].width),Math.max(0,Et-h[1].width),Ct-h[2].width).bottomRight.subdivide(.5),bottomLeftOuter:U(g,v+_t,Mt,Ot).bottomLeft.subdivide(.5),bottomLeftInner:U(g+h[3].width,v+_t,Math.max(0,Mt-h[3].width),Ot-h[2].width).bottomLeft.subdivide(.5)}}function R(t,a,h,g){var v=function(w,C,M){return{x:w.x+(C.x-w.x)*M,y:w.y+(C.y-w.y)*M}};return{start:t,startControl:a,endControl:h,end:g,subdivide:function(w){var C=v(t,a,w),M=v(a,h,w),j=v(h,g,w),yt=v(C,M,w),Et=v(M,j,w),Ct=v(yt,Et,w);return[R(t,C,yt,Ct),R(Ct,Et,j,g)]},curveTo:function(w){w.push(["bezierCurve",a.x,a.y,h.x,h.y,g.x,g.y])},curveToReversed:function(w){w.push(["bezierCurve",h.x,h.y,a.x,a.y,t.x,t.y])}}}function T(t,a,h,g,v,I,w){var C=[];return a[0]>0||a[1]>0?(C.push(["line",g[1].start.x,g[1].start.y]),g[1].curveTo(C)):C.push(["line",t.c1[0],t.c1[1]]),h[0]>0||h[1]>0?(C.push(["line",I[0].start.x,I[0].start.y]),I[0].curveTo(C),C.push(["line",w[0].end.x,w[0].end.y]),w[0].curveToReversed(C)):(C.push(["line",t.c2[0],t.c2[1]]),C.push(["line",t.c3[0],t.c3[1]])),a[0]>0||a[1]>0?(C.push(["line",v[1].end.x,v[1].end.y]),v[1].curveToReversed(C)):C.push(["line",t.c4[0],t.c4[1]]),C}function L(t,a,h,g,v,I,w){a[0]>0||a[1]>0?(t.push(["line",g[0].start.x,g[0].start.y]),g[0].curveTo(t),g[1].curveTo(t)):t.push(["line",I,w]),(h[0]>0||h[1]>0)&&t.push(["line",v[0].start.x,v[0].start.y])}function nt(t){return t.cssInt("zIndex")<0}function ot(t){return t.cssInt("zIndex")>0}function Q(t){return t.cssInt("zIndex")===0}function J(t){return["inline","inline-block","inline-table"].indexOf(t.css("display"))!==-1}function at(t){return t instanceof o}function rt(t){return t.node.data.trim().length>0}function wt(t){return/^(normal|none|0px)$/.test(t.parent.css("letterSpacing"))}function xt(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(a){var h=t.css("border"+a+"Radius"),g=h.split(" ");return g.length<=1&&(g[1]=g[0]),g.map(lt)})}function pt(t){return t.nodeType===Node.TEXT_NODE||t.nodeType===Node.ELEMENT_NODE}function Tt(t){var a=t.css("position"),h=["absolute","relative","fixed"].indexOf(a)!==-1?t.css("zIndex"):"auto";return h!=="auto"}function ht(t){return t.css("position")!=="static"}function O(t){return t.css("float")!=="none"}function B(t){return["inline-block","inline-table"].indexOf(t.css("display"))!==-1}function P(t){var a=this;return function(){return!t.apply(a,arguments)}}function W(t){return t.node.nodeType===Node.ELEMENT_NODE}function V(t){return t.isPseudoElement===!0}function q(t){return t.node.nodeType===Node.TEXT_NODE}function tt(t){return function(a,h){return a.cssInt("zIndex")+t.indexOf(a)/t.length-(h.cssInt("zIndex")+t.indexOf(h)/t.length)}}function it(t){return t.getOpacity()<1}function lt(t){return parseInt(t,10)}function ct(t){return t.width}function dt(t){return t.node.nodeType!==Node.ELEMENT_NODE||["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(t.node.nodeName)===-1}function Z(t){return[].concat.apply([],t)}function st(t){var a=t.substr(0,1);return a===t.substr(t.length-1)&&a.match(/'|"/)?t.substr(1,t.length-2):t}function ut(t){for(var a=[],h=0,g=!1,v;t.length;)gt(t[h])===g?(v=t.splice(0,h),v.length&&a.push(c.ucs2.encode(v)),g=!g,h=0):h++,h>=t.length&&(v=t.splice(0,h),v.length&&a.push(c.ucs2.encode(v)));return a}function gt(t){return[32,13,10,9,45].indexOf(t)!==-1}function vt(t){return/[^\u0000-\u00ff]/.test(t)}y.exports=f},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(d,y,S){var s=d("./xhr"),c=d("./utils"),u=d("./log"),r=d("./clone"),l=c.decode64;function e(f,b,k){var N="withCredentials"in new XMLHttpRequest;if(!b)return Promise.reject("No proxy configured");var F=x(N),H=E(b,f,F);return N?s(H):m(k,H,F).then(function(U){return l(U.content)})}var n=0;function o(f,b,k){var N="crossOrigin"in new Image,F=x(N),H=E(b,f,F);return N?Promise.resolve(H):m(k,H,F).then(function(U){return"data:"+U.type+";base64,"+U.content})}function m(f,b,k){return new Promise(function(N,F){var H=f.createElement("script"),U=function(){delete window.html2canvas.proxy[k],f.body.removeChild(H)};window.html2canvas.proxy[k]=function($){U(),N($)},H.src=b,H.onerror=function($){U(),F($)},f.body.appendChild(H)})}function x(f){return f?"":"html2canvas_"+Date.now()+"_"+ ++n+"_"+Math.round(Math.random()*1e5)}function E(f,b,k){return f+"?url="+encodeURIComponent(b)+(k.length?"&callback=html2canvas.proxy."+k:"")}function i(f){return function(b){var k=new DOMParser,N;try{N=k.parseFromString(b,"text/html")}catch{u("DOMParser not supported, falling back to createHTMLDocument"),N=document.implementation.createHTMLDocument("");try{N.open(),N.write(b),N.close()}catch{u("createHTMLDocument write not supported, falling back to document.body.innerHTML"),N.body.innerHTML=b}}var F=N.querySelector("base");if(!F||!F.href.host){var H=N.createElement("base");H.href=f,N.head.insertBefore(H,N.head.firstChild)}return N}}function p(f,b,k,N,F,H){return new e(f,b,window.document).then(i(f)).then(function(U){return r(U,k,N,F,H,0,0)})}S.Proxy=e,S.ProxyURL=o,S.loadUrlDocument=p},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(d,y,S){var s=d("./proxy").ProxyURL;function c(u,r){var l=document.createElement("a");l.href=u,u=l.href,this.src=u,this.image=new Image;var e=this;this.promise=new Promise(function(n,o){e.image.crossOrigin="Anonymous",e.image.onload=n,e.image.onerror=o,new s(u,r,document).then(function(m){e.image.src=m}).catch(o)})}y.exports=c},{"./proxy":16}],18:[function(d,y,S){var s=d("./nodecontainer");function c(u,r,l){s.call(this,u,r),this.isPseudoElement=!0,this.before=l===":before"}c.prototype.cloneTo=function(u){c.prototype.cloneTo.call(this,u),u.isPseudoElement=!0,u.before=this.before},c.prototype=Object.create(s.prototype),c.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},c.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},c.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},c.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",c.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",y.exports=c},{"./nodecontainer":14}],19:[function(d,y,S){var s=d("./log");function c(u,r,l,e,n){this.width=u,this.height=r,this.images=l,this.options=e,this.document=n}c.prototype.renderImage=function(u,r,l,e){var n=u.cssInt("paddingLeft"),o=u.cssInt("paddingTop"),m=u.cssInt("paddingRight"),x=u.cssInt("paddingBottom"),E=l.borders,i=r.width-(E[1].width+E[3].width+n+m),p=r.height-(E[0].width+E[2].width+o+x);this.drawImage(e,0,0,e.image.width||i,e.image.height||p,r.left+n+E[3].width,r.top+o+E[0].width,i,p)},c.prototype.renderBackground=function(u,r,l){r.height>0&&r.width>0&&(this.renderBackgroundColor(u,r),this.renderBackgroundImage(u,r,l))},c.prototype.renderBackgroundColor=function(u,r){var l=u.color("backgroundColor");l.isTransparent()||this.rectangle(r.left,r.top,r.width,r.height,l)},c.prototype.renderBorders=function(u){u.forEach(this.renderBorder,this)},c.prototype.renderBorder=function(u){!u.color.isTransparent()&&u.args!==null&&this.drawShape(u.args,u.color)},c.prototype.renderBackgroundImage=function(u,r,l){var e=u.parseBackgroundImages();e.reverse().forEach(function(n,o,m){switch(n.method){case"url":var x=this.images.get(n.args[0]);x?this.renderBackgroundRepeating(u,r,x,m.length-(o+1),l):s("Error loading background-image",n.args[0]);break;case"linear-gradient":case"gradient":var E=this.images.get(n.value);E?this.renderBackgroundGradient(E,r,l):s("Error loading background-image",n.args[0]);break;case"none":break;default:s("Unknown background-image type",n.args[0])}},this)},c.prototype.renderBackgroundRepeating=function(u,r,l,e,n){var o=u.parseBackgroundSize(r,l.image,e),m=u.parseBackgroundPosition(r,l.image,e,o),x=u.parseBackgroundRepeat(e);switch(x){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(l,m,o,r,r.left+n[3],r.top+m.top+n[0],99999,o.height,n);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(l,m,o,r,r.left+m.left+n[3],r.top+n[0],o.width,99999,n);break;case"no-repeat":this.backgroundRepeatShape(l,m,o,r,r.left+m.left+n[3],r.top+m.top+n[0],o.width,o.height,n);break;default:this.renderBackgroundRepeat(l,m,o,{top:r.top,left:r.left},n[3],n[0]);break}},y.exports=c},{"./log":13}],20:[function(d,y,S){var s=d("../renderer"),c=d("../lineargradientcontainer"),u=d("../log");function r(e,n){s.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=n),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},u("Initialized CanvasRenderer with size",e,"x",n)}r.prototype=Object.create(s.prototype),r.prototype.setFillStyle=function(e){return this.ctx.fillStyle=(typeof e>"u"?"undefined":Y(e))==="object"&&e.isColor?e.toString():e,this.ctx},r.prototype.rectangle=function(e,n,o,m,x){this.setFillStyle(x).fillRect(e,n,o,m)},r.prototype.circle=function(e,n,o,m){this.setFillStyle(m),this.ctx.beginPath(),this.ctx.arc(e+o/2,n+o/2,o/2,0,Math.PI*2,!0),this.ctx.closePath(),this.ctx.fill()},r.prototype.circleStroke=function(e,n,o,m,x,E){this.circle(e,n,o,m),this.ctx.strokeStyle=E.toString(),this.ctx.stroke()},r.prototype.drawShape=function(e,n){this.shape(e),this.setFillStyle(n).fill()},r.prototype.taints=function(e){if(e.tainted===null){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),e.tainted=!1}catch{this.taintCtx=document.createElement("canvas").getContext("2d"),e.tainted=!0}}return e.tainted},r.prototype.drawImage=function(e,n,o,m,x,E,i,p,f){(!this.taints(e)||this.options.allowTaint)&&this.ctx.drawImage(e.image,n,o,m,x,E,i,p,f)},r.prototype.clip=function(e,n,o){this.ctx.save(),e.filter(l).forEach(function(m){this.shape(m).clip()},this),n.call(o),this.ctx.restore()},r.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(n,o){n[0]==="rect"?this.ctx.rect.apply(this.ctx,n.slice(1)):this.ctx[o===0?"moveTo":n[0]+"To"].apply(this.ctx,n.slice(1))},this),this.ctx.closePath(),this.ctx},r.prototype.font=function(e,n,o,m,x,E){this.setFillStyle(e).font=[n,o,m,x,E].join(" ").split(",")[0]},r.prototype.fontShadow=function(e,n,o,m){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",n).setVariable("shadowOffsetX",o).setVariable("shadowBlur",m)},r.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},r.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},r.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},r.prototype.setVariable=function(e,n){return this.variables[e]!==n&&(this.variables[e]=this.ctx[e]=n),this},r.prototype.text=function(e,n,o){this.ctx.fillText(e,n,o)},r.prototype.backgroundRepeatShape=function(e,n,o,m,x,E,i,p,f){var b=[["line",Math.round(x),Math.round(E)],["line",Math.round(x+i),Math.round(E)],["line",Math.round(x+i),Math.round(p+E)],["line",Math.round(x),Math.round(p+E)]];this.clip([b],function(){this.renderBackgroundRepeat(e,n,o,m,f[3],f[0])},this)},r.prototype.renderBackgroundRepeat=function(e,n,o,m,x,E){var i=Math.round(m.left+n.left+x),p=Math.round(m.top+n.top+E);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,o),"repeat")),this.ctx.translate(i,p),this.ctx.fill(),this.ctx.translate(-i,-p)},r.prototype.renderBackgroundGradient=function(e,n){if(e instanceof c){var o=this.ctx.createLinearGradient(n.left+n.width*e.x0,n.top+n.height*e.y0,n.left+n.width*e.x1,n.top+n.height*e.y1);e.colorStops.forEach(function(m){o.addColorStop(m.stop,m.color.toString())}),this.rectangle(n.left,n.top,n.width,n.height,o)}},r.prototype.resizeImage=function(e,n){var o=e.image;if(o.width===n.width&&o.height===n.height)return o;var m,x=document.createElement("canvas");return x.width=n.width,x.height=n.height,m=x.getContext("2d"),m.drawImage(o,0,0,o.width,o.height,0,0,n.width,n.height),x};function l(e){return e.length>0}y.exports=r},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(d,y,S){var s=d("./nodecontainer");function c(u,r,l,e){s.call(this,l,e),this.ownStacking=u,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*r}c.prototype=Object.create(s.prototype),c.prototype.getParentStack=function(u){var r=this.parent?this.parent.stack:null;return r?r.ownStacking?r:r.getParentStack(u):u.stack},y.exports=c},{"./nodecontainer":14}],22:[function(d,y,S){function s(c){this.rangeBounds=this.testRangeBounds(c),this.cors=this.testCORS(),this.svg=this.testSVG()}s.prototype.testRangeBounds=function(c){var u,r,l,e,n=!1;return c.createRange&&(u=c.createRange(),u.getBoundingClientRect&&(r=c.createElement("boundtest"),r.style.height="123px",r.style.display="block",c.body.appendChild(r),u.selectNode(r),l=u.getBoundingClientRect(),e=l.height,e===123&&(n=!0),c.body.removeChild(r))),n},s.prototype.testCORS=function(){return typeof new Image().crossOrigin<"u"},s.prototype.testSVG=function(){var c=new Image,u=document.createElement("canvas"),r=u.getContext("2d");c.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(c,0,0),u.toDataURL()}catch{return!1}return!0},y.exports=s},{}],23:[function(d,y,S){var s=d("./xhr"),c=d("./utils").decode64;function u(r){this.src=r,this.image=null;var l=this;this.promise=this.hasFabric().then(function(){return l.isInline(r)?Promise.resolve(l.inlineFormatting(r)):s(r)}).then(function(e){return new Promise(function(n){window.html2canvas.svg.fabric.loadSVGFromString(e,l.createCanvas.call(l,n))})})}u.prototype.hasFabric=function(){return!window.html2canvas.svg||!window.html2canvas.svg.fabric?Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg")):Promise.resolve()},u.prototype.inlineFormatting=function(r){return/^data:image\/svg\+xml;base64,/.test(r)?this.decode64(this.removeContentType(r)):this.removeContentType(r)},u.prototype.removeContentType=function(r){return r.replace(/^data:image\/svg\+xml(;base64)?,/,"")},u.prototype.isInline=function(r){return/^data:image\/svg\+xml/i.test(r)},u.prototype.createCanvas=function(r){var l=this;return function(e,n){var o=new window.html2canvas.svg.fabric.StaticCanvas("c");l.image=o.lowerCanvasEl,o.setWidth(n.width).setHeight(n.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(e,n)).renderAll(),r(o.lowerCanvasEl)}},u.prototype.decode64=function(r){return typeof window.atob=="function"?window.atob(r):c(r)},y.exports=u},{"./utils":26,"./xhr":28}],24:[function(d,y,S){var s=d("./svgcontainer");function c(u,r){this.src=u,this.image=null;var l=this;this.promise=r?new Promise(function(e,n){l.image=new Image,l.image.onload=e,l.image.onerror=n,l.image.src="data:image/svg+xml,"+new XMLSerializer().serializeToString(u),l.image.complete===!0&&e(l.image)}):this.hasFabric().then(function(){return new Promise(function(e){window.html2canvas.svg.fabric.parseSVGDocument(u,l.createCanvas.call(l,e))})})}c.prototype=Object.create(s.prototype),y.exports=c},{"./svgcontainer":23}],25:[function(d,y,S){var s=d("./nodecontainer");function c(r,l){s.call(this,r,l)}c.prototype=Object.create(s.prototype),c.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},c.prototype.transform=function(r){var l=this.node.data;switch(r){case"lowercase":return l.toLowerCase();case"capitalize":return l.replace(/(^|\s|:|-|\(|\))([a-z])/g,u);case"uppercase":return l.toUpperCase();default:return l}};function u(r,l,e){if(r.length>0)return l+e.toUpperCase()}y.exports=c},{"./nodecontainer":14}],26:[function(d,y,S){S.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},S.bind=function(s,c){return function(){return s.apply(c,arguments)}},S.decode64=function(s){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=s.length,r,l,e,n,o,m,x,E,i="";for(r=0;r<u;r+=4)l=c.indexOf(s[r]),e=c.indexOf(s[r+1]),n=c.indexOf(s[r+2]),o=c.indexOf(s[r+3]),m=l<<2|e>>4,x=(e&15)<<4|n>>2,E=(n&3)<<6|o,n===64?i+=String.fromCharCode(m):o===64||o===-1?i+=String.fromCharCode(m,x):i+=String.fromCharCode(m,x,E);return i},S.getBounds=function(s){if(s.getBoundingClientRect){var c=s.getBoundingClientRect(),u=s.offsetWidth==null?c.width:s.offsetWidth;return{top:c.top,bottom:c.bottom||c.top+c.height,right:c.left+u,left:c.left,width:u,height:s.offsetHeight==null?c.height:s.offsetHeight}}return{}},S.offsetBounds=function(s){var c=s.offsetParent?S.offsetBounds(s.offsetParent):{top:0,left:0};return{top:s.offsetTop+c.top,bottom:s.offsetTop+s.offsetHeight+c.top,right:s.offsetLeft+c.left+s.offsetWidth,left:s.offsetLeft+c.left,width:s.offsetWidth,height:s.offsetHeight}},S.parseBackgrounds=function(s){var c=` \r
	`,u,r,l,e,n,o=[],m=0,x=0,E,i,p=function(){u&&(r.substr(0,1)==='"'&&(r=r.substr(1,r.length-2)),r&&i.push(r),u.substr(0,1)==="-"&&(e=u.indexOf("-",1)+1)>0&&(l=u.substr(0,e),u=u.substr(e)),o.push({prefix:l,method:u.toLowerCase(),value:n,args:i,image:null})),i=[],u=l=r=n=""};return i=[],u=l=r=n="",s.split("").forEach(function(f){if(!(m===0&&c.indexOf(f)>-1)){switch(f){case'"':E?E===f&&(E=null):E=f;break;case"(":if(E)break;if(m===0){m=1,n+=f;return}else x++;break;case")":if(E)break;if(m===1)if(x===0){m=0,n+=f,p();return}else x--;break;case",":if(E)break;if(m===0){p();return}else if(m===1&&x===0&&!u.match(/^url$/i)){i.push(r),r="",n+=f;return}break}n+=f,m===0?u+=f:r+=f}}),p(),o}},{}],27:[function(d,y,S){var s=d("./gradientcontainer");function c(u){s.apply(this,arguments),this.type=u.args[0]==="linear"?s.TYPES.LINEAR:s.TYPES.RADIAL}c.prototype=Object.create(s.prototype),y.exports=c},{"./gradientcontainer":9}],28:[function(d,y,S){function s(c){return new Promise(function(u,r){var l=new XMLHttpRequest;l.open("GET",c),l.onload=function(){l.status===200?u(l.responseText):r(new Error(l.statusText))},l.onerror=function(){r(new Error("Network Error"))},l.send()})}y.exports=s},{}]},{},[4])(4)})}).call(D,function(){return this}())},function(et,D,X){var z,K,G;(function(A,_){K=[],z=_,G=typeof z=="function"?z.apply(D,K):z,G!==void 0&&(et.exports=G)})(void 0,function(){return function A(_,Y,d){var y=window,S="application/octet-stream",s=d||S,c=_,u=!Y&&!d&&c,r=document.createElement("a"),l=function(N){return String(N)},e=y.Blob||y.MozBlob||y.WebKitBlob||l,n=Y||"download",o,m;if(e=e.call?e.bind(y):Blob,String(this)==="true"&&(c=[c,s],s=c[0],c=c[1]),u&&u.length<2048&&(n=u.split("/").pop().split("?")[0],r.href=u,r.href.indexOf(u)!==-1)){var x=new XMLHttpRequest;return x.open("GET",u,!0),x.responseType="blob",x.onload=function(k){A(k.target.response,n,S)},setTimeout(function(){x.send()},0),x}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c))if(c.length>1024*1024*1.999&&e!==l)c=f(c),s=c.type||S;else return navigator.msSaveBlob?navigator.msSaveBlob(f(c),n):b(c);else if(/([\x80-\xff])/.test(c)){var E=0,i=new Uint8Array(c.length),p=i.length;for(E;E<p;++E)i[E]=c.charCodeAt(E);c=new e([i],{type:s})}o=c instanceof e?c:new e([c],{type:s});function f(k){var N=k.split(/[:;,]/),F=N[1],H=N[2]=="base64"?atob:decodeURIComponent,U=H(N.pop()),$=U.length,R=0,T=new Uint8Array($);for(R;R<$;++R)T[R]=U.charCodeAt(R);return new e([T],{type:F})}function b(k,N){if("download"in r)return r.href=k,r.setAttribute("download",n),r.className="download-js-link",r.innerHTML="downloading...",r.style.display="none",document.body.appendChild(r),setTimeout(function(){r.click(),document.body.removeChild(r),N===!0&&setTimeout(function(){y.URL.revokeObjectURL(r.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(k)&&(k="data:"+k.replace(/^data:([\w\/\-\+]+)/,S)),window.open(k)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=k),!0;var F=document.createElement("iframe");document.body.appendChild(F),!N&&/^data:/.test(k)&&(k="data:"+k.replace(/^data:([\w\/\-\+]+)/,S)),F.src=k,setTimeout(function(){document.body.removeChild(F)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(o,n);if(y.URL)b(y.URL.createObjectURL(o),!0);else{if(typeof o=="string"||o.constructor===l)try{return b("data:"+s+";base64,"+y.btoa(o))}catch{return b("data:"+s+","+encodeURIComponent(o))}m=new FileReader,m.onload=function(k){b(this.result)},m.readAsDataURL(o)}return!0}})},function(et,D,X){Object.defineProperty(D,"__esModule",{value:!0}),D.svg2xml=K,D.svg2dataurl=G,D.svg2canvas=A,D.svg2image=_,D.svg2imagedom=Y;var z=X(4);function K(d){var y=(0,z.getStyledNode)(d);y.setAttribute("version",1.1).setAttribute("xmlns","http://www.w3.org/2000/svg");var S=y.outerHTML;return S}function G(d){var y=K(d),S="data:image/svg+xml;base64,"+window.btoa(y);return S}function A(d){var y=document.createElement("canvas"),S=y.getContext("2d"),s=new Image;return s.src=G(d),S.drawImage(s,0,0),y}function _(d){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"png",S=A(d),s=S.toDataURL("image/"+y);return s}function Y(d){var y=G(d),S=new Image;S.src=y;var s=d.parentNode;return s.insertBefore(S,d),d.style.display="none",S}},function(et,D){Object.defineProperty(D,"__esModule",{value:!0}),D.getComputedStyleString=X,D.getStyledElement=z,D.getStyledNode=K,D.getStyledHtml=G;function X(A){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Y=window.getComputedStyle(A,_),d=Y.cssText;return d}function z(A){var _=A.cloneNode(),Y=X(A);_.style.cssText=Y;var d=X(A,":before"),y=document.createElement("span");y.style.cssText=d,_.insertBefore(y,A.firstChild);var S=X(A,":after"),s=document.createElement("span");return s.style.cssText=S,_.appendChild(y),_}function K(A){var _=A.cloneNode(!0);return _.children.length>0&&(_.children=_.children.map(function(Y){return K(Y)})),z(_)}function G(A){return K(A).outerHTML}}])})}(Rt)),Rt.exports}var Qt=$t();const Kt=zt(Qt),Zt=(ft,mt)=>{const et=ft.__vccOpts||ft;for(const[D,X]of mt)et[D]=X;return et},Jt={class:"w-full h-[50px] items-center flex gap-x-[20px]"},qt={__name:"Sudoku",setup(ft){const mt=Gt({col:1,row:1}),et=Ft(),D=Ft([]),X=async()=>{D.value=[];const G=document.createElement("input");G.type="file",G.accept="image/*",G.multiple=!0,G.onchange=async()=>{const A=G.files;console.log(A);for(const _ of A){const Y=await z(_);D.value.push(Y)}},G.click()},z=G=>new Promise(A=>{const _=new FileReader;_.readAsDataURL(G),_.onload=()=>{const Y=_.result;A(Y)}}),K=()=>{Kt.save(et.value,{name:"download-file-name",type:"png"})};return(G,A)=>(Bt(),At(Dt,null,[kt("div",{class:"sudoku",ref_key:"containRef",ref:et,style:Wt({gridTemplateColumns:`repeat(${mt.col}, 1fr)`,gridTemplateRows:`repeat(${mt.row}, 1fr)`})},[(Bt(!0),At(Dt,null,Xt(D.value,(_,Y)=>(Bt(),At("div",{key:Y,class:"img",style:Wt({background:`url(${_}) no-repeat center / cover`})},null,4))),128))],4),kt("div",Jt,[St(bt(Ut),{onClick:X},{default:Ht(()=>A[2]||(A[2]=[It("选择")])),_:1}),St(bt(Ut),{onClick:K},{default:Ht(()=>A[3]||(A[3]=[It("生成")])),_:1}),kt("div",null,[A[4]||(A[4]=It(" Col: ")),St(bt(Vt),{modelValue:mt.col,"onUpdate:modelValue":A[0]||(A[0]=_=>mt.col=_),max:15,min:-2},null,8,["modelValue"])]),kt("div",null,[A[5]||(A[5]=It(" Row ")),St(bt(Vt),{modelValue:mt.row,"onUpdate:modelValue":A[1]||(A[1]=_=>mt.row=_),max:15,min:-2},null,8,["modelValue"])])])],64))}},ee=Zt(qt,[["__scopeId","data-v-ddf9ba02"]]);export{ee as default};
